---
apiVersion: litmuschaos.io/v1alpha1
kind: ChaosEngine
metadata:
  name: install-agent-chaos
  namespace: default
  annotations:
    probeRef: '[]'
spec:
  # It can be active/stop
  engineState: 'active'
  chaosServiceAccount: install-agent-sa
  experiments:
    - name: install-agent
      spec:
        components:
          env:
            # folder name containing the Helm chart
            - name: FOLDER
              value: ''

            # target namespace for agent deployment
            - name: NAMESPACE
              value: ''

            # timeout for the operation
            - name: TIMEOUT
              value: '10m'

            # OpenAI API key for the agent
            - name: OPENAI_API_KEY
              value: ''

            # OpenAI model to use
            - name: OPENAI_MODEL
              value: 'gpt-4o-mini'

            # OpenAI API base URL
            - name: OPENAI_BASE_URL
              value: 'https://api.openai.com/v1'

            # OpenTelemetry endpoint for tracing
            - name: OTEL_ENDPOINT
              value: ''

            # Scan interval in seconds
            - name: SCAN_INTERVAL
              value: '60'

            # Number of log lines to collect
            - name: LOG_LINES
              value: '100'
